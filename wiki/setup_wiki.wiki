#summary how to setup SMW using shell script via SVN client
#labels Featured,Phase-Deploy

= Introduction =
We write several shell scripts (bash) to help users install SMW using SVN client. Such installation allows users to (i) install the latest version of wiki codes and extensions, and (ii) update the installation with the latest patches distributed via SVN.

=Prerequisites=
 * SVN client must be installed. the following code may help you install SVN client (if your linux support yum and you can log in as root).  
{{{
yum install subversion
}}}  

The following requirements are similar to [http://www.mediawiki.org/wiki/Installation the requirements by mediawiki installation]
 * mysql 4.0 or higher version has been installed and running. you should have enough privilege to create a database and grant privileges. That ensures that you can install a media wiki database.
 * apache web server (httpd) 2.0 or higher version has been installed and is running. the root directory is < WWW-ROOT >
 * PHP 5.0 or higher version has been installed. php-mysql, ... has been configured with apache web server.

note: we only support linux with bash scripts

= Installation =
1. open a linux console, and create a directory for your wikis
{{{
mkdir <WWW-ROOT>/wiki
cd <WWW-ROOT>/wiki
}}}

2. download all setup scripts (some depends on some others).
new installation
{{{
svn checkout http://smwbp.googlecode.com/svn/trunk/install
}}}
OR update existing installation
{{{
svn update install
}}}

3. copy setup scripts and make them executable
{{{
cp install/*  .
chmod +x *.sh
}}}
hint: you may review the setup scripts at http://code.google.com/p/smwbp/source/browse/#svn/trunk/setup

4. execute one setup script to install a wiki at < MY-WIKI-PATH > 
{{{
./setup-smw.sh install <MY-WIKI-PATH>
}}}
hint: you will see a sequence of shell command executed, they are essentially downloading the wiki codes from several Web hosts.

5. install mediawiki using [http://www.mediawiki.org/wiki/Manual:Config_script MW setup instructions]. typically you will need to do the following
{{{
bash# cd <MY-WIKI-PATH>
bash# chmod a+w config/
...goto your wiki url and use web installation
...
mv config/LocalSettings.php .
}}}

6. to install SMW, do the following steps

6.1 append the following line to the end of LocalSettings.php
{{{
require_once( "extensions/SMWBP/LocalSettings.smwbp.smw.php" );  #SMW only
}}}
6.2 initialize SMW, see also http://semantic-mediawiki.org/wiki/Help:Installation SMW setup instructions
{{{
login wiki with administrator account
follow the link "special pages" (you can see a link on the left of the screen in toolbox)
follow the link "Admin functions for Semantic MediaWiki"
make sure the wiki's database account has additional "create table", "alter table" and "drop table" privilege on your wiki database.
click the button "initialize or upgrade database" 
}}}
--hint: (i) create table and drop table is required by SMW initialization; (ii) alter table is required by SMW+ initialization.

6.3 (optional) append the following line to the end of LocalSettings.php
{{{
require_once( "extensions/SMWBP/LocalSettings.smwbp.ext.php" );  #recommended MW ans SMW extensions
}}}

7. to install SMW with Halo Extensions 

7.1 your wiki should be setup using setup-smwplus.sh
{{{
./setup-smwplus.sh install <MY-WIKI-PATH>
}}}
7.2 follow instructions in 5.1, 5.2, 5.3 

7.3 append the following line to the end of LocalSettings.php
{{{
require_once( "extensions/SMWBP/LocalSettings.smwbp.smwplus.php" );  #SMW+ halo extension
}}}
7.4 initialize halo extension
{{{
login wiki with administrator account
follow the link "special pages" (you can see a link on the left of the screen in toolbox)
follow the link "Admin functions for Semantic MediaWiki"
click the button "initialize or upgrade database" 
}}}

hint: you may also browse  [http://smwforum.ontoprise.com/smwforum/index.php/Manual_SMW%2B_Installation SMW+ setup instructions]